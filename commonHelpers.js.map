{"version":3,"file":"commonHelpers.js","sources":["../src/img/bi_x-octagon.svg","../src/main.js"],"sourcesContent":["export default \"__VITE_ASSET__3108d0c6__\"","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport simpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nimport bixOctagonSvg from './img/bi_x-octagon.svg';\n\nconst form = document.querySelector('.form');\nconst formInput = document.querySelector('.form-input');\nconst gallery = document.querySelector('.gallery');\nconst loaderAnimation = document.createElement('div');\nloaderAnimation.classList.add('loader');\n\nconst instanceOfLightbox = new simpleLightbox('li a', {\n    captionsData: 'alt',\n    captionClass: 'img-caption',\n    captionDelay: 250,\n});\n\nform.addEventListener('submit', onFormSubmit);\n\nfunction onFormSubmit(e) {\n    e.preventDefault();\n    gallery.innerHTML = '';\n    form.after(loaderAnimation);\n\n    const inputQuery = formInput.value;\n    const userKey = '41929636-e94244ac3daa63b74aaebcf18';\n    const searchParams = new URLSearchParams({\n    key: `${userKey}`,\n    q: `${inputQuery}`,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n    per_page: 30,\n});\n\nfetch(`https://pixabay.com/api/?${searchParams}`)\n    .then(response => {\n    if (!response.ok) {\n        throw new Error(response.status);\n    } else {\n        return response.json();\n    }\n    })\n    .then(({ hits }) => {\n    if (!hits.length) {\n        iziToast.show({\n        message:\n            'Sorry, there are no images matching your search query. Please, try again!',\n        position: 'topRight',\n        color: '#EF4040',\n        messageColor: '#FAFAFB',\n        iconUrl: bixOctagonSvg,\n        });\n    }\n\nconst markup = hits\n    .map(\n    ({\n        webformatURL,\n        largeImageURL,\n        tags,\n        likes,\n        views,\n        comments,\n        downloads,\n        }) =>\n            `<li class=\"gallery-item\">\n            <a class=\"item-link\" href=\"${largeImageURL}\">\n                <img\n                    src=\"${webformatURL}\"\n                    alt=\"${tags}\"\n                    width=\"360\"\n                    height=\"200\"\n                />\n            </a>\n            <ul class=\"mini-list\">\n                <li class=\"mini-header\">\n                    <h3>Likes</h3>\n                    <p>${likes}</p>\n                </li>\n                <li class=\"mini-header\">\n                    <h3>Views</h3>\n                    <p>${views}</p>\n                </li>\n                <li class=\"mini-header\">\n                    <h3>Comments</h3>\n                    <p>${comments}</p>\n                </li>\n                <li class=\"mini-header\">\n                    <h3>Downloads</h3>\n                    <p>${downloads}</p>\n                </li>\n            </ul>\n            </li>`\n        )\n        .join('');\n\nloaderAnimation.remove();\ngallery.insertAdjacentHTML('beforeend', markup);\nformInput.value = '';\n\ninstanceOfLightbox.refresh();\n    })\n    .catch(error => {\n        loaderAnimation.remove();\n        iziToast.show({\n        message: `${error}`,\n        position: 'topRight',\n        color: '#EF4040',\n        messageColor: '#FAFAFB',\n        iconUrl: '/img/bi_x-octagon.svg',\n});\nformInput.value = '';\n    });\n}"],"names":["bixOctagonSvg","form","formInput","gallery","loaderAnimation","instanceOfLightbox","simpleLightbox","onFormSubmit","e","inputQuery","userKey","searchParams","response","hits","iziToast","markup","webformatURL","largeImageURL","tags","likes","views","comments","downloads","error"],"mappings":"6vBAAA,MAAeA,EAAA,kDCMTC,EAAO,SAAS,cAAc,OAAO,EACrCC,EAAY,SAAS,cAAc,aAAa,EAChDC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAkB,SAAS,cAAc,KAAK,EACpDA,EAAgB,UAAU,IAAI,QAAQ,EAEtC,MAAMC,EAAqB,IAAIC,EAAe,OAAQ,CAClD,aAAc,MACd,aAAc,cACd,aAAc,GAClB,CAAC,EAEDL,EAAK,iBAAiB,SAAUM,CAAY,EAE5C,SAASA,EAAaC,EAAG,CACrBA,EAAE,eAAc,EAChBL,EAAQ,UAAY,GACpBF,EAAK,MAAMG,CAAe,EAE1B,MAAMK,EAAaP,EAAU,MACvBQ,EAAU,qCACVC,EAAe,IAAI,gBAAgB,CACzC,IAAK,GAAGD,CAAO,GACf,EAAG,GAAGD,CAAU,GAChB,WAAY,QACZ,YAAa,aACb,WAAY,GACZ,SAAU,EACd,CAAC,EAED,MAAM,4BAA4BE,CAAY,EAAE,EAC3C,KAAKC,GAAY,CAClB,GAAKA,EAAS,GAGV,OAAOA,EAAS,OAFhB,MAAM,IAAI,MAAMA,EAAS,MAAM,CAIvC,CAAK,EACA,KAAK,CAAC,CAAE,KAAAC,KAAW,CACfA,EAAK,QACNC,EAAS,KAAK,CACd,QACI,4EACJ,SAAU,WACV,MAAO,UACP,aAAc,UACd,QAASd,CACjB,CAAS,EAGT,MAAMe,EAASF,EACV,IACD,CAAC,CACG,aAAAG,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACC,IACG;AAAA,yCAC6BL,CAAa;AAAA;AAAA,2BAE3BD,CAAY;AAAA,2BACZE,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBAQNC,CAAK;AAAA;AAAA;AAAA;AAAA,yBAILC,CAAK;AAAA;AAAA;AAAA;AAAA,yBAILC,CAAQ;AAAA;AAAA;AAAA;AAAA,yBAIRC,CAAS;AAAA;AAAA;AAAA,kBAIzB,EACA,KAAK,EAAE,EAEhBlB,EAAgB,OAAM,EACtBD,EAAQ,mBAAmB,YAAaY,CAAM,EAC9Cb,EAAU,MAAQ,GAElBG,EAAmB,QAAO,CAC1B,CAAK,EACA,MAAMkB,GAAS,CACZnB,EAAgB,OAAM,EACtBU,EAAS,KAAK,CACd,QAAS,GAAGS,CAAK,GACjB,SAAU,WACV,MAAO,UACP,aAAc,UACd,QAAS,uBACjB,CAAC,EACDrB,EAAU,MAAQ,EAClB,CAAK,CACL"}